# é‡è¦æ›´æ­£ï¼šApp ç”Ÿå‘½é€±æœŸèˆ‡ ViewController ç”Ÿå‘½é€±æœŸ

## ğŸš¨ æ ¸å¿ƒè§€å¿µï¼ˆéå¸¸é‡è¦ï¼‰

### ViewController çš„ View ç”Ÿå‘½é€±æœŸæ–¹æ³•åœ¨ App é€²å…¥èƒŒæ™¯æ™‚**ä¸æœƒè¢«èª¿ç”¨**

é€™æ˜¯ä¸€å€‹éå¸¸é‡è¦çš„è§€å¿µï¼Œå¾ˆå¤šé–‹ç™¼è€…ï¼ˆåŒ…æ‹¬é¢è©¦å®˜ï¼‰éƒ½å¯èƒ½æœƒææ··ã€‚

## æ­£ç¢ºçš„ç”Ÿå‘½é€±æœŸé †åº

### å ´æ™¯ 1ï¼šApp é¦–æ¬¡å•Ÿå‹•
```
âœ… didFinishLaunchingWithOptions
âœ… viewDidLoad
âœ… viewWillAppear
âœ… applicationDidBecomeActive
âœ… viewDidAppear
```

### å ´æ™¯ 2ï¼šApp é€²å…¥èƒŒæ™¯ï¼ˆæŒ‰ Home éµï¼‰
```
âœ… applicationWillResignActive
âŒ viewWillDisappear          // ä¸æœƒè¢«èª¿ç”¨ï¼
âŒ viewDidDisappear           // ä¸æœƒè¢«èª¿ç”¨ï¼
âœ… applicationDidEnterBackground
```

### å ´æ™¯ 3ï¼šApp å¾èƒŒæ™¯è¿”å›
```
âœ… applicationWillEnterForeground
âŒ viewWillAppear             // ä¸æœƒè¢«èª¿ç”¨ï¼
âœ… applicationDidBecomeActive
âŒ viewDidAppear              // ä¸æœƒè¢«èª¿ç”¨ï¼
```

### å ´æ™¯ 4ï¼šPush åˆ°å¦ä¸€å€‹ ViewController
```
âœ… viewWillDisappear          // é€™æ™‚æ‰æœƒèª¿ç”¨ï¼
âœ… viewDidDisappear           // é€™æ™‚æ‰æœƒèª¿ç”¨ï¼
```

## ç‚ºä»€éº¼æœƒé€™æ¨£ï¼Ÿ

### ViewController çš„ View ç”Ÿå‘½é€±æœŸæ–¹æ³•è§¸ç™¼æ¢ä»¶
é€™äº›æ–¹æ³•åªåœ¨ View **çœŸæ­£åŠ å…¥æˆ–ç§»é™¤è¦–åœ–å±¤ç´š**æ™‚æ‰æœƒè¢«èª¿ç”¨ï¼š

**æœƒèª¿ç”¨çš„æƒ…æ³ï¼š**
- âœ… Push/Pop ViewController
- âœ… Present/Dismiss ViewController  
- âœ… addSubview/removeFromSuperview
- âœ… Tab Bar åˆ‡æ›ä¸åŒçš„ ViewController

**ä¸æœƒèª¿ç”¨çš„æƒ…æ³ï¼š**
- âŒ App é€²å…¥èƒŒæ™¯
- âŒ App å¾èƒŒæ™¯è¿”å›
- âŒ é–å±/è§£é–
- âŒ ä¾†é›»/é€šçŸ¥ä¸­å¿ƒä¸‹æ‹‰

### åŸå› 
ç•¶ App é€²å…¥èƒŒæ™¯æ™‚ï¼š
1. ViewController ä»ç„¶å­˜åœ¨æ–¼è¨˜æ†¶é«”ä¸­
2. View ä»ç„¶åœ¨è¦–åœ–å±¤ç´šçµæ§‹ä¸­
3. åªæ˜¯æ•´å€‹ App çš„ Window ä¸å†é¡¯ç¤ºè€Œå·²
4. View ä¸¦æ²’æœ‰å¾ Superview ä¸­ç§»é™¤

å°±åƒæŠŠä¸€æ•´æœ¬æ›¸ï¼ˆAppï¼‰è“‹èµ·ä¾†ï¼Œæ›¸ä¸­çš„æŸä¸€é ï¼ˆViewï¼‰ä¸¦æ²’æœ‰è¢«æ’•æ‰æˆ–ç¿»èµ°ã€‚

## å¯¦éš›æ¸¬è©¦é©—è­‰

### æ¸¬è©¦æ­¥é©Ÿ
1. é‹è¡Œ Appï¼Œé€²å…¥ã€ŒApp ç”Ÿå‘½é€±æœŸæ¼”ç¤ºã€
2. è§€å¯Ÿé¦–æ¬¡è¼‰å…¥çš„ log
3. **æŒ‰ Home éµ**ï¼ŒApp é€²å…¥èƒŒæ™¯
4. è§€å¯Ÿ logï¼šåªæœƒçœ‹åˆ° `applicationWillResignActive` å’Œ `applicationDidEnterBackground`
5. **é‡æ–°æ‰“é–‹ App**
6. è§€å¯Ÿ logï¼šåªæœƒçœ‹åˆ° `applicationWillEnterForeground` å’Œ `applicationDidBecomeActive`
7. é»æ“Šã€Œ**è·³è½‰åˆ°ä¸‹ä¸€é **ã€æŒ‰éˆ•
8. é€™æ™‚æ‰æœƒçœ‹åˆ° `viewWillDisappear` å’Œ `viewDidDisappear`

## é¢è©¦é‡é»

### å¸¸è¦‹éŒ¯èª¤å›ç­”
âŒ "App é€²å…¥èƒŒæ™¯æ™‚æœƒèª¿ç”¨ viewWillDisappear å’Œ viewDidDisappear"
âŒ "App è¿”å›å‰æ™¯æ™‚æœƒèª¿ç”¨ viewWillAppear å’Œ viewDidAppear"

### æ­£ç¢ºå›ç­”
âœ… "App é€²å…¥èƒŒæ™¯åªæœƒèª¿ç”¨ App å±¤ç´šçš„ç”Ÿå‘½é€±æœŸæ–¹æ³•ï¼ˆapplicationWillResignActiveã€applicationDidEnterBackgroundï¼‰ï¼Œä¸æœƒèª¿ç”¨ ViewController çš„ View ç”Ÿå‘½é€±æœŸæ–¹æ³•ï¼Œå› ç‚º View ä¸¦æ²’æœ‰å¾è¦–åœ–å±¤ç´šä¸­ç§»é™¤"

âœ… "viewWillDisappear å’Œ viewDidDisappear åªåœ¨ View çœŸæ­£å¾è¦–åœ–å±¤ç´šä¸­ç§»é™¤æ™‚æ‰æœƒè¢«èª¿ç”¨ï¼Œæ¯”å¦‚ popã€dismiss æˆ– removeFromSuperview"

## å¯¦éš›æ‡‰ç”¨

### å¦‚æœéœ€è¦åœ¨ App é€²å…¥èƒŒæ™¯æ™‚åŸ·è¡Œæ“ä½œ
**éŒ¯èª¤åšæ³•ï¼š**
```swift
override func viewWillDisappear(_ animated: Bool) {
    super.viewWillDisappear(animated)
    // âŒ æœŸæœ›åœ¨ App é€²å…¥èƒŒæ™¯æ™‚åŸ·è¡Œ
    // é€™ä¸æœƒåœ¨ App é€²å…¥èƒŒæ™¯æ™‚è¢«èª¿ç”¨ï¼
    saveUserData()
}
```

**æ­£ç¢ºåšæ³•ï¼š**
```swift
// åœ¨ viewDidLoad æˆ– init ä¸­è¨»å†Šé€šçŸ¥
NotificationCenter.default.addObserver(
    self,
    selector: #selector(appDidEnterBackground),
    name: UIApplication.didEnterBackgroundNotification,
    object: nil
)

@objc private func appDidEnterBackground() {
    // âœ… æœƒåœ¨ App é€²å…¥èƒŒæ™¯æ™‚è¢«èª¿ç”¨
    saveUserData()
}
```

æˆ–åœ¨ AppDelegate ä¸­è™•ç†ï¼š
```swift
func applicationDidEnterBackground(_ application: UIApplication) {
    // âœ… ä¿å­˜æ•¸æ“šçš„æœ€ä½³ä½ç½®
    saveUserData()
}
```

## ç¸½çµ

| å ´æ™¯ | View ç”Ÿå‘½é€±æœŸæ–¹æ³• | App ç”Ÿå‘½é€±æœŸæ–¹æ³• |
|------|------------------|-----------------|
| App å•Ÿå‹• | âœ… èª¿ç”¨ | âœ… èª¿ç”¨ |
| App é€²å…¥èƒŒæ™¯ | âŒ ä¸èª¿ç”¨ | âœ… èª¿ç”¨ |
| App è¿”å›å‰æ™¯ | âŒ ä¸èª¿ç”¨ | âœ… èª¿ç”¨ |
| Push/Pop VC | âœ… èª¿ç”¨ | âŒ ä¸èª¿ç”¨ |
| Present/Dismiss | âœ… èª¿ç”¨ | âŒ ä¸èª¿ç”¨ |

è¨˜ä½ï¼š**å…©ç¨®ç”Ÿå‘½é€±æœŸæ˜¯ç¨ç«‹çš„ï¼** ğŸ¯

